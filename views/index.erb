
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Hangman Game</title>
  <link rel="stylesheet" href="/styles.css">
  <script src="/script.js" defer></script>
</head>
<body>
  <h1>ğŸ¯ Hangman Game</h1>
  <button onclick="toggleMode()">ğŸŒ“ Toggle Light/Dark Mode</button>
  <h2>Level: <%= session[:level] || 1 %></h2>
  <p>Wrong guesses: <%= session[:wrong_guesses] %>/6</p>

  <pre><%= hangman_ascii(session[:wrong_guesses]) %></pre>

  <p>
    <% session[:word].chars.each do |c| %>
      <% if session[:guesses].include?(c) %>
        <%= c %>
      <% else %>
        _ 
      <% end %>
    <% end %>
  </p>

  <form action="/guess" method="POST">
    <input type="text" name="letter" maxlength="1" required>
    <button type="submit">Guess</button>
  </form>

  <button onclick="getHint()">ğŸ’¡ Hint</button>
  <p id="hint-text"></p>

  <% if @sarcasm %>
    <p style="color: red;"><%= @sarcasm %></p>
  <% end %>

  <% if @game_won %>
    <p style="color: green; font-weight: bold;">ğŸ‰ You won! Level up! ğŸ‰</p>
    <audio id="applause" src="/applause.mp3" autoplay></audio>
  <% elsif @game_lost %>
    <p style="color: darkred; font-weight: bold;">ğŸ’€ You lost! The word was "<%= session[:word] %>"</p>
  <% end %>

  <p><a href="/new">ğŸ”„ Restart</a></p>
</body>
</html>
